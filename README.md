# T2A2- Marketplace Project

 By Shelby El-rassi 

-----

* [Your Thrift Co.](https://your-thrift-co.herokuapp.com/) - Live website

* [Github](https://github.com/Shelby219/Your-Thrift-Co.) - Github repository

-----
## Identification of the problem you are trying to solve by building this particular marketplace app.

The idea of Your Thrift Co. comes from a love of vintage and thrift shopping. In this day and age there is so much propaganda and popularity around sustainability and ethical fashion, in that people are simply trying to consume less or being more conscious consumers. Fast fashion is definitely taking a back seat with so many sustainable and ethical brands coming up. Although this is not the most affordable way to shop, especially when consumers have limited budgets. That is where buying pre-loved, second hand items is very popular. Whilst there are physical thrift shops all around the world, and all around Australia, online shopping is taking precedence. Whilst in USA and UK there are a selection of pre-loved clothing online marketplaces, Australia seems to have been left behind with not a lot available for use within Australia or simply without enough Australian users for it to operate at full potential. That is where the idea Your Thrift Co. came to be. An online pre-loved, second-hand clothing/item marketplace started in Australia. Of course the idea of expanding to world-wide in future is there, there is a gap in the market for an Australian owned and operated thrift marketplace. Initially the application is targeted towards Women, with the plans for expansion in future. 



-----
## 	Why is it a problem that needs solving?

As aforementioned sustainable and ethical fashion is not only very popular these days, but it is an important issue. In fast fashion the ethical side is that employees and their working conditions are most of the time not ideal, in fact can be inhuman. So consumers today are not wanting to support as many fast fashion brands, as being conscious of ethical practices is becoming more widespread. 

Sustainability is also a very important quality more consumers are wanting to adopt. According to [Business Insider](https://www.businessinsider.com.au/fast-fashion-environmental-impact-pollution-emissions-waste-water-2019-10?r=US&IR=T) the equivalent of one garbage truck full of clothing is burned or dumped in landfill every second, with 85% of textiles produced going into landfill every year, which is enough to fill the whole of Sydney Harbour every year. Additionally according to [Edge Expo](https://edgexpo.com/fashion-industry-waste-statistics/), only coming second to oil, the clothing and textile industry is the largest polluter in the world. That is just a small snippet of large amounts of statistic to do with the fashion industry. That is why if consumers are willing to lessen there environmental impact by trying to be more sustainable and conscious with consuming, it has the potential to do a lot of good. 

Your Thrift Co. will enable consumers another platform to buy second, and sell secondhand. Reuse, reduce, recycle. 

-----
## Description of your marketplace app (website), including:

### Purpose

The purpose of Your Thrift Co. is to be an online thrift/pre-loved/second-hand clothing platform, enabling users to register and be able to sell there own items or buy other users items. The initial application is set up directed at Women as that is the market thrift shopping is more popular in, however if the application were to be as successful as planned, expanding to the Male market would be in future. 

The core design of the application also will enable Users to interact like a form of social media, just with a basis around fashion. As trends today are not just set by brand, but via individuals, so with the features of commenting and liking items also allows social interaction via our platform. So whilst some Users will operate with the intention of having just a closet clear out, other Users can operate the platform as a form of online business. The ability to build a following of users that will come to buy their particular items. 

Another notable purpose of the application is the ability for users to, in a sense, operate a business from their bedroom. Part of the target purpose is users wanting the ability to shop secondhand online, however the other part of the target purpose is the users ability to sell their pre-loved items online. 

### Functionality / features

- Users - This main feature is where the user is able to sign up to an account, after doing so be able to log in and/or edit account details. The user is also able to view a profile dashboard in which they can see items that they have sold or have purchased. Other users can view other user dashboards also, however they can only view what the user has for sale and any reviews. 

- Items - This functionality involves a few components. The user once logged in is able to browse through items by category and view them either via category pages, or individually and also via clicking on a user profile the items up for sale by that user will be available. 

- Categories - The feature enables items to be categorized which them ables viewing via categories, which will enable and search and filter feature functionality for future.
 
- Shopping Bag - The feature enables users to when viewing items, to add them to their shopping bags. The shopping bag will work via displaying the items the user would like to purchase, grouping them via seller (which is a future plan). Then displaying a button to purchase each item. The idea will be the user can purchase groups of items grouped together via seller, however this feature will be for future. 

- Comments - NTH - This feature enables users to leave comments on item listings. 

- Followers - NTH - This feature enables users to follow other users. 

- Likes on Items - NTH - This feature enables users to like items that are listed. This enables the user to then via a list of liked items. 

- Reviews - NTH - The feature enables users to leave a review via a completed purchase on other users. So if a user has made a purchase from another user, the seller can leave a review on the buyer and vise versa. This allows for users to maintain a review rating out of 5 stars. 

- Search Function- NTH- This feature enables users to search for items in a search bar, using results from title, description, material, colour and size.

### Sitemap

![Site Map](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/SiteMap.png)

### Screenshots

![Shot of Site 1](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Site1.png)
![Shot of Site 2](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Site2.png)
![Shot of Site 3](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Site3.png)
![Shot of Site 4](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Site4.png)
![Shot of Site 5](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Site5.png)
![Shot of Site 6](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Site6.png)
![Shot of Site 7](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Site7.png)

### Target audience

The target audience of the first release of the application will be Women, particularly between ages 16-35. The reason for this is like other fashion marketplace applications, millennial and Gen Z consumers is the market to primarily aim for. This being as this age group is the group where trends are being set and followed, in addition to being conscious of sustainability. With popular influencer on social media highlighting and promoting sustainable fashion practices, this is the age group that primarily pays attention to these messages. 

This generation is also one for bedroom entrepreneurship and 'side hustling', this is where our application if a fantastic platform this, enabling users to operate as a personal business if so chosen. 

### Tech stack (e.g. html, css, deployment platform, etc)

- Rails 
- Ruby 
- Postgresql (database management)
- HTML 5
- SCSS/CSS
- Bootstrap (frontend styling)
- Heroku (deployment platform)
- AWS (Cloud Storage)
- Stripe (third party payment system)
- Devise (authentication gem)
- Github (source control)
- Balsamiq (wireframe mockups)
- Unsplash (free stock images)
- Trello.com (project management, user stories)
- Lucid chart (Entity Relationship Diagram)
- Powerpoint (Slide deck presentation)

-----
## User stories for your app

### MVP Features

#### User Operation 

- As a User I want to be able to sign up.
- As a User I want to be able to log in.
- As a User I want to be able to log out.
- As a User I want to be able to delete my account.
- As a User I want to be able to edit my account profile details.
- As a User I want have a profile dashboard that shows my details and my own items listed.
- As a User to sell I should be able to list my items for sale on the marketplace.
- As a User I was to browse listings via navigation bar via category
- As a User buying I should be able to add items to my bag, edit bag and remove items
- As a User viewing my bag, items are group by the seller. With purchase buttons under each item.
- As a User I should be able to make a purchase of an item.
- As a User I should be able to see my items (receipts) Sold and my items purchases as separate lists.

#### Authentication & Authorisation:

- As a User buying or selling, I do not want other users to be able to access my account in order to keep my data safe.
- As a User I want have a profile dashboard that does not show my private details (email etc) on the public dashboard for other users viewing.
- As a User I want my profile dashboard to not show my own purchases to the public.
- As a User selling, I do not want other users to be able to edit or delete my listings.
- As a User buying or selling, I do not want other users to see my shopping bag.
- As a User selling, I do not want to see options to buy my own items.

### Nice to Have Features

- As a User I want to leave comments on items
- As a User I want to like other user's items 
- As a User I want to follow other users and have them follow me
- As a User I want to leave reviews on a user when I make a purchase
- As a User I want to leave a review on a user that has bought an item from me
- As a User Selling I want to receive a email when I have sold an item
- As a User Buyer I want to received order confirmation and shipping confirmation
- As a User viewing my bag, items are grouped via seller, with the ability to bulk purchase from a user selling.
- As a User I want to filter through item listings. 

-----
## Wireframes for your app

### Mobile Wireframes
![Mobile Wireframes](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Mobile.png)
### Tablet Wireframes
![Tablet Wireframes](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Tablet.png)
### Desktop Wireframes
![Desktop Wireframes](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Desktop.png)

-----
## An ERD for your app

![ERD](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/ERD.png)

-----
## Explain the different high-level components (abstractions) in your app



-----
## Detail any third party services that your app will use

- **Bootstrap:** This Ruby Gem was installed and utilised for front-end styling. 

- **Devise:** This Ruby Gem was installed to handle user authentication and user account creation. The ability of the current_user method meant that authorisation and authentication within the application is possible. Users can create an account using their email, a username and a password that Devise authenticates. Once an account is created and logged in, the user can also add additional details such as an avatar and address details, the Devise Gem was easily configured to allow for additional parameters for accounts and account management. 

- **Amazon Web Services:** This Ruby Gem was installed to be able to manage image uploading on the application via Amazon Web Services. This function is used for item listing creation and also for Users being able to upload an Avatar.

- **Stripe:** This Ruby Gem was installed to allow and manage payments for items listed. Stripe API provides secure payment services which are handle outside of the application. Not done in this assignment, however Stripe does allow for management of funds within a Stripe account, so when a User purchases an item, Stripe would allow the ability to forward those funds to the seller. 

- **Pg_search:** This Ruby Gem was installed to enable a search function for items listing, searches will produce results based on title, description, colour, material and size. 

-----
## Describe your projects models in terms of the relationships (active record associations) they have with each other

### Implemented Features

- User has_many :items, dependent: :destroy
- User has_one_attached :avatar
- User has_one :cart
- User has_many :buyer_payments, foreign_key: "buyer_id", class_name: "Payment"
- User has_many :seller_payments, foreign_key: "seller_id", class_name: "Payment"
- User has_many :reviews

- Item belongs_to :user
- Item has_many_attached :images   
- Item belongs_to :category
- Item has_many :cart_items, dependent: :destroy 
- Item has_many :carts, through: :cart_items

- Item has_one :payment
- Item has_one :review

- Category has many :items

- Cart_item belongs_to :cart 
- Cart_item belongs_to :item

- Cart belongs_to :user
- Cart has_many :cart_items, dependent: :destroy 
- Cart has_many :items, through: :cart_items
   
- Review belongs_to :user
- Review belongs_to :item

### Nice to have features not yet implemented 

- User has many :comments, through :items
- Item has many :comments, dependent: :destroy #item.comments.create(comment_params) will work
- Comment belongs to :User
- Comment belongs to :Item

-----

## Discuss the database relations to be implemented in your application

### User

![ERD-User](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/UserERD.png)

- **User:** This is the foundation database relation. It houses the core user information. 

### Item

![ERD-Item](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/ItemERD.png)

- **Item:** An item belongs to one user only. This relation handles all the item specific data. This data is also what is used for Stripe implementation for a third party payment service. 

## Category 

![ERD-Category](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/CategoryERD.png)

- **Category:** This database information is just for reference within an item. This enables reference to the Categories created in the seed data. The item index pages displays items grouped via this category reference. This idea of this structure was that new categories were not needed for creation, however in future if needed they could be via seed data.

### Cart

![ERD-Cart](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/CartERD.png)

- **Cart:** This relation handles all cart_items. Its purpose is to gather per user cart_items for displaying. An user owns one cart. 

### Cart_items

![ERD-Cart_items](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Cart_itemsERD.png)

- **Cart_items:** This relation is a join table between cart and items. Meaning a new cart_item is created when a user wants to add an item to their shopping cart. This ensures items can be added and removed for a user cart as a cart_item meaning the actual item will not deleted from the database. 

### Payment

#### Buyer_payments and Seller_payments

![ERD-Payments](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/PaymentsERD.png)

- **Payment:** This relation is operated via creation on completion of a successful webhook for an item payment. This means once a user has purchased an item via stripe the webhook processes a new payment. An item has one payment and a user can have buyer_payments and seller_payments. These confirmed payments are grouped for access via the user controller. New arrays for buyer payments and seller payments are created for accessing this data on the users profile. This is done via the foreign keys of buyer_id and seller_id which are accessed from the payment model to the user model. The buyer_id is the current user's id that is logged in and seller_id is the items user id attached. A key part of this table is the boolean of paid, which enables an item to be marked as paid for viewing purposes. This is a basic form of data creation for a payment. In future an orders table might be more efficient and enable purchases by seller grouped together. 


### Review

![ERD-Reviews](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/ReviewERD.png)

- **Review:** This relation functions via an item being able to have one review from a user. Users then are able to have many reviews. The accessibility of this table is done via the users profile. One a user making a purchase and that purchase going into the users bought items. A review button becomes available with that user able to make a review on that item purchased via a rating and a comment. This review then becomes accessed via a users items reviews. 

### Active Storage

![ERD-Active Storage](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/ActiveStorageERD.png)

- **Active Storage:** The active storage tables relate to image upload. An item can have many images attached and a user can have one avatar attached. These being reference in the models user and item. This table is the table that holds the data relating to these records. If it is an avatar record then it will relate to the user and if it is an item image, it will relate to the item table. 

### Other future Tables

![ERD-Other](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/OtherERD.png)
![ERD-Other2](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Other2ERD.png)
- **Other:** Future tables for implementation include the ability for an item to have likes and comments and the ability for user to have followers.

-----
## Provide your database schema design


```
    ActiveRecord::Schema.define(version: 2020_08_10_231356) do

  # These are extensions that must be enabled in order to support this database
  enable_extension "plpgsql"

  create_table "active_storage_attachments", force: :cascade do |t|
    t.string "name", null: false
    t.string "record_type", null: false
    t.bigint "record_id", null: false
    t.bigint "blob_id", null: false
    t.datetime "created_at", null: false
    t.index ["blob_id"], name: "index_active_storage_attachments_on_blob_id"
    t.index ["record_type", "record_id", "name", "blob_id"], name: "index_active_storage_attachments_uniqueness", unique: true
  end

  create_table "active_storage_blobs", force: :cascade do |t|
    t.string "key", null: false
    t.string "filename", null: false
    t.string "content_type"
    t.text "metadata"
    t.bigint "byte_size", null: false
    t.string "checksum", null: false
    t.datetime "created_at", null: false
    t.index ["key"], name: "index_active_storage_blobs_on_key", unique: true
  end

  create_table "cart_items", force: :cascade do |t|
    t.bigint "cart_id", null: false
    t.bigint "item_id", null: false
    t.index ["cart_id", "item_id"], name: "index_cart_items_on_cart_id_and_item_id"
    t.index ["item_id", "cart_id"], name: "index_cart_items_on_item_id_and_cart_id"
  end

  create_table "carts", force: :cascade do |t|
    t.datetime "created_at", precision: 6, null: false
    t.datetime "updated_at", precision: 6, null: false
    t.bigint "user_id"
    t.index ["user_id"], name: "index_carts_on_user_id"
  end

  create_table "categories", force: :cascade do |t|
    t.string "name"
    t.datetime "created_at", precision: 6, null: false
    t.datetime "updated_at", precision: 6, null: false
  end

  create_table "items", force: :cascade do |t|
    t.string "title"
    t.decimal "price", precision: 10, scale: 2, default: "0.0"
    t.text "description"
    t.string "size"
    t.string "colour"
    t.string "material"
    t.string "location"
    t.datetime "created_at", precision: 6, null: false
    t.datetime "updated_at", precision: 6, null: false
    t.bigint "user_id", null: false
    t.decimal "shipping", precision: 10, scale: 2, default: "0.0"
    t.integer "category_id"
    t.index ["user_id"], name: "index_items_on_user_id"
  end

  create_table "payments", force: :cascade do |t|
    t.bigint "buyer_id", null: false
    t.bigint "seller_id", null: false
    t.boolean "paid", default: false
    t.bigint "item_id", null: false
    t.index ["buyer_id"], name: "index_payments_on_buyer_id"
    t.index ["seller_id"], name: "index_payments_on_seller_id"
  end

  create_table "pg_search_documents", force: :cascade do |t|
    t.text "content"
    t.string "searchable_type"
    t.bigint "searchable_id"
    t.datetime "created_at", precision: 6, null: false
    t.datetime "updated_at", precision: 6, null: false
    t.index ["searchable_type", "searchable_id"], name: "index_pg_search_documents_on_searchable_type_and_searchable_id"
  end

  create_table "reviews", force: :cascade do |t|
    t.bigint "item_id", null: false
    t.integer "rating", default: 0
    t.text "comment", default: "f"
    t.datetime "created_at", precision: 6, null: false
    t.datetime "updated_at", precision: 6, null: false
    t.bigint "user_id", null: false
    t.index ["user_id"], name: "index_reviews_on_user_id"
  end

  create_table "users", force: :cascade do |t|
    t.string "email", default: "", null: false
    t.string "encrypted_password", default: "", null: false
    t.string "reset_password_token"
    t.datetime "reset_password_sent_at"
    t.datetime "remember_created_at"
    t.datetime "created_at", precision: 6, null: false
    t.datetime "updated_at", precision: 6, null: false
    t.string "name"
    t.string "username"
    t.string "address"
    t.string "city"
    t.string "state"
    t.integer "post_code"
    t.index ["email"], name: "index_users_on_email", unique: true
    t.index ["reset_password_token"], name: "index_users_on_reset_password_token", unique: true
    t.index ["username"], name: "index_users_on_username", unique: true
  end

  add_foreign_key "active_storage_attachments", "active_storage_blobs", column: "blob_id"
  add_foreign_key "cart_items", "carts"
  add_foreign_key "cart_items", "items"
  add_foreign_key "carts", "users"
  add_foreign_key "items", "users"
  add_foreign_key "payments", "items"
  add_foreign_key "payments", "users", column: "buyer_id"
  add_foreign_key "payments", "users", column: "seller_id"
  add_foreign_key "reviews", "items"
  add_foreign_key "reviews", "users"
end


```
-----
## Describe the way tasks are allocated and tracked in your project

* [Trelloboard](https://trello.com/b/S6sdFZNw/yourthriftco) - Link to Trello Board

Trello was used as the primary way of tracking the details of this project.

The tags used were:

- Rubric
- MVP
- Nice to Have
- Docs
- Completed
- Double Check
- Small, Medium and Hard Colours

**Rubric:** This column was implemented as a clear and distinct way of monitoring the Rubric Requirements so as to ensure these were all covered and implemented in the project. This column was more as a reminder down the side of the Trello Board.

**Requirement Overview:** This column was implemented as a clear distinction between the MVP requirements and the optional ones. With tags used to clarify these. 

**Documentation(Readme.md):** This column was implemented as a task management for all the documentation requirements. Structured in the same order as the sections on the Readme.md documentation.

**Features/Plan:** This column was the main column which had a list of the features for implementation, these were primarily marked as either MVP or Nice to have, to ensure that the MVP features were done first. Some of the Nice to Have features did not make it on to the application at this stage, however the MVP ones were made first priority and were completed. 

**User Story:** This column was implemented as the first draft structure of the user stories, this ensured that the implementation of the features, did follow along with the base user stories. The tags nice to have and MVP were also utilised here and proved essential. 

**Testing:** This column was implemented to add any cards which held features that were being tested, or needed testing. 

**To Fix:** This column was implemented to keep track of any errors that needed fixing. 



![Trello Shot 1](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Trello1.png)
![Trello Shot 2](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Trello2.png)
![Trello Shot 3](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Trello3.png)
![Trello Shot 4](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Trello4.png)
![Trello Shot 5](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Trello5.png)
![Trello Shot 6](https://github.com/Shelby219/Your-Thrift-Co./blob/master/docs/Trello6.png)


-----